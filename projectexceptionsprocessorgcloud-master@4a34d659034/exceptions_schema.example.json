{
    "version": "1.0.0",
    "exceptions": [
        {
            "id": "100",
            "type": "create_service_accounts",
            "project_id_regex": "^prj-(rad|dev)-\\d{2}-fanta-.{3}$",
            "description": "Lab environment service accounts",
            "spec": {
                "service_accounts": [
                    {
                        "name_suffix": "api",
                        "description": "API service account",
                        "create_json_key": true,
                        "iam_roles": [
                            "roles/viewer"
                        ]
                    }
                ]
            }
        },
        {
            "id": "200",
            "type": "override_org_policies",
            "project_id_regex": "^prj-(rad|dev)-\\d{2}-fanta-.{3}$",
            "description": "Organization policy overrides for lab environments",
            "spec": {
                "org_policy_overrides": [
                    {
                        "constraint": "iam.disableServiceAccountKeyCreation",
                        "policy_type": "boolean",
                        "enforced": false,
                        "description": "Enable service account key creation for legacy applications"
                    },
                    {
                        "constraint": "compute.vmExternalIpAccess",
                        "policy_type": "list",
                        "allow_all": true,
                        "description": "Allow all external IP access for compute instances"
                    },
                    {
                        "constraint": "compute.restrictSharedVpcSubnetworks",
                        "policy_type": "list",
                        "allow": [
                            "projects/shared-vpc-project/regions/europe-west4/subnetworks/allowed-subnet-1",
                            "projects/shared-vpc-project/regions/europe-west4/subnetworks/allowed-subnet-2"
                        ],
                        "description": "Allow specific shared VPC subnetworks"
                    },
                    {
                        "constraint": "compute.trustedImageProjects",
                        "policy_type": "list",
                        "deny": [
                            "projects/untrusted-project",
                            "projects/deprecated-images"
                        ],
                        "description": "Deny images from untrusted projects"
                    },
                    {
                        "constraint": "storage.uniformBucketLevelAccess",
                        "policy_type": "boolean",
                        "enforced": true,
                        "description": "Enforce uniform bucket-level access for all storage buckets"
                    }
                ]
            }
        }
    ]
}